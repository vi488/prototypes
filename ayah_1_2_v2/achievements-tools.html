<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Achievement Badges - Ayah</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        /* Ayah Educational AI Platform - Comprehensive Design System */
        :root {
            /* Brand Color Hierarchy - Wisdom Purple System */
            --ayah-primary: #6048EB;           /* Main brand - AI responses, primary actions */
            --ayah-primary-hover: #4F3BC9;     /* Interactive states - button hover, link hover */
            --ayah-primary-light: #F4F1FF;     /* AI message backgrounds, subtle highlights */
            --ayah-primary-lighter: #F4FDFF;   /* Page backgrounds, card backgrounds */
            --ayah-primary-dark: #3A2A9E;      /* High emphasis text, important icons */

            /* Achievement Celebration Colors */
            --achievement-bronze: #CD7C2F;     /* Bronze level achievements */
            --achievement-silver: #9CA3AF;     /* Silver level achievements */
            --achievement-gold: #F59E0B;       /* Gold level achievements */
            --achievement-platinum: #8B5CF6;   /* Platinum level achievements */
            --achievement-diamond: #EC4899;    /* Diamond level achievements */
            --achievement-legendary: #10B981;  /* Legendary achievements */

            /* Achievement Background Colors */
            --achievement-bronze-bg: #FEF3C7;     /* Bronze background */
            --achievement-silver-bg: #F3F4F6;     /* Silver background */
            --achievement-gold-bg: #FFFBEB;       /* Gold background */
            --achievement-platinum-bg: #F5F3FF;   /* Platinum background */
            --achievement-diamond-bg: #FDF2F8;    /* Diamond background */
            --achievement-legendary-bg: #ECFDF5;  /* Legendary background */

            /* Milestone Colors */
            --milestone-first: #22C55E;        /* First achievement - bright green */
            --milestone-streak: #F59E0B;       /* Streak milestones - gold */
            --milestone-mastery: #8B5CF6;      /* Subject mastery - purple */
            --milestone-perfect: #EC4899;      /* Perfect scores - pink */
            --milestone-dedication: #06B6D4;   /* Dedication awards - cyan */
            --milestone-improvement: #10B981;  /* Improvement awards - emerald */

            /* Gamification Elements */
            --sparkle-gold: #FCD34D;           /* Golden sparkle effect */
            --sparkle-silver: #E5E7EB;         /* Silver sparkle effect */
            --confetti-primary: #6048EB;       /* Primary confetti color */
            --confetti-secondary: #F59E0B;     /* Secondary confetti color */
            --confetti-tertiary: #22C55E;      /* Tertiary confetti color */

            /* Progress and Completion States */
            --progress-empty: #E5E7EB;         /* Empty progress bar */
            --progress-partial: #A855F7;       /* Partial progress */
            --progress-complete: #22C55E;      /* Complete progress */
            --progress-perfect: #F59E0B;       /* Perfect completion */

            /* Badge States */
            --badge-earned: 1;                 /* Earned badge opacity */
            --badge-unearned: 0.3;             /* Unearned badge opacity */
            --badge-locked: 0.1;               /* Locked badge opacity */

            /* Celebration Glow Effects */
            --glow-bronze: rgba(205, 124, 47, 0.4);
            --glow-silver: rgba(156, 163, 175, 0.4);
            --glow-gold: rgba(245, 158, 11, 0.4);
            --glow-platinum: rgba(139, 92, 246, 0.4);
            --glow-diamond: rgba(236, 72, 153, 0.4);
            --glow-legendary: rgba(16, 185, 129, 0.4);

            /* Educational Interaction Colors - Learning Feedback System */
            --ayah-correct: #22C55E;           /* Bright, encouraging green */
            --ayah-correct-bg: #DCFCE7;        /* Light green background */
            --ayah-correct-border: #16A34A;    /* Darker green border */
            --ayah-learning: #F59E0B;          /* Warm, non-threatening orange */
            --ayah-learning-bg: #FEF3C7;       /* Light orange background */
            --ayah-learning-border: #D97706;   /* Darker orange border */
            --ayah-hint: #3B82F6;              /* Friendly, helpful blue */
            --ayah-hint-bg: #DBEAFE;           /* Light blue background */
            --ayah-hint-border: #2563EB;       /* Darker blue border */

            /* Semantic Color System - Universal Meanings */
            --semantic-success: #10B981;       /* Emerald 500 */
            --semantic-success-light: #D1FAE5; /* Emerald 100 */
            --semantic-success-dark: #047857;  /* Emerald 700 */
            --semantic-error: #EF4444;         /* Red 500 */
            --semantic-error-light: #FEE2E2;   /* Red 100 */
            --semantic-error-dark: #DC2626;    /* Red 600 */
            --semantic-info: #3B82F6;          /* Blue 500 */
            --semantic-info-light: #DBEAFE;    /* Blue 100 */
            --semantic-info-dark: #1D4ED8;     /* Blue 700 */
            --semantic-warning: #F59E0B;       /* Amber 500 */
            --semantic-warning-light: #FEF3C7; /* Amber 100 */
            --semantic-warning-dark: #D97706;  /* Amber 600 */

            /* Neutral Color System - 9-11 variations */
            --neutral-50: #FAFAFA;   /* Lightest background */
            --neutral-100: #F5F5F5;  /* Light background */
            --neutral-200: #E5E5E5;  /* Border light */
            --neutral-300: #D4D4D4;  /* Border medium */
            --neutral-400: #A3A3A3;  /* Placeholder text */
            --neutral-500: #737373;  /* Secondary text */
            --neutral-600: #525252;  /* Primary text light */
            --neutral-700: #404040;  /* Primary text */
            --neutral-800: #262626;  /* Headings */
            --neutral-900: #171717;  /* High emphasis text */

            /* Spacing System - 8px Base Grid */
            --space-1: 4px;   /* 0.25rem - Micro spacing */
            --space-2: 8px;   /* 0.5rem - Base unit */
            --space-3: 12px;  /* 0.75rem - Small spacing */
            --space-4: 16px;  /* 1rem - Medium spacing */
            --space-5: 20px;  /* 1.25rem - Large spacing */
            --space-6: 24px;  /* 1.5rem - XL spacing */
            --space-8: 32px;  /* 2rem - XXL spacing */
            --space-10: 40px; /* 2.5rem - Section spacing */
            --space-12: 48px; /* 3rem - Page spacing */
            --space-16: 64px; /* 4rem - Major section spacing */
            --space-20: 80px; /* 5rem - Page margins */

            /* Typography Scale - Modular Scale: 1.250 (Major Third) */
            --text-display-large: 57px;   /* Hero headlines */
            --text-display-medium: 45px;  /* Page titles */
            --text-display-small: 36px;   /* Section headers */
            --text-headline-large: 32px;  /* Card titles */
            --text-headline-medium: 28px; /* Subsection headers */
            --text-headline-small: 24px;  /* Component titles */
            --text-title-large: 22px;     /* List headers */
            --text-title-medium: 16px;    /* Button text, labels */
            --text-title-small: 14px;     /* Captions, metadata */
            --text-body-large: 16px;      /* Primary body text */
            --text-body-medium: 14px;     /* Secondary body text */
            --text-body-small: 12px;      /* Fine print, disclaimers */

            /* Component Design Standards */
            --border-radius-small: 8px;   /* Modern feel */
            --border-radius-medium: 12px; /* Cards and containers */
            --border-radius-large: 16px;  /* Modals and major components */
            --border-radius-pill: 24px;   /* Pill-shaped CTAs */

            /* Shadow System */
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.1);     /* Subtle elevation */
            --shadow-md: 0 4px 12px rgba(0,0,0,0.15);   /* Medium elevation */
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.2);    /* High elevation */
            --shadow-xl: 0 12px 32px rgba(0,0,0,0.25);  /* Maximum elevation */
        }

        /* Educational AI Platform Typography */
        body {
            font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--neutral-50);
            color: var(--neutral-700);
            line-height: 1.5;
        }

        /* Achievement Color Classes */
        .achievement-bronze { color: var(--achievement-bronze); }
        .achievement-silver { color: var(--achievement-silver); }
        .achievement-gold { color: var(--achievement-gold); }
        .achievement-platinum { color: var(--achievement-platinum); }
        .achievement-diamond { color: var(--achievement-diamond); }
        .achievement-legendary { color: var(--achievement-legendary); }

        .bg-achievement-bronze { background-color: var(--achievement-bronze-bg); }
        .bg-achievement-silver { background-color: var(--achievement-silver-bg); }
        .bg-achievement-gold { background-color: var(--achievement-gold-bg); }
        .bg-achievement-platinum { background-color: var(--achievement-platinum-bg); }
        .bg-achievement-diamond { background-color: var(--achievement-diamond-bg); }
        .bg-achievement-legendary { background-color: var(--achievement-legendary-bg); }

        /* Milestone Color Classes */
        .milestone-first { color: var(--milestone-first); }
        .milestone-streak { color: var(--milestone-streak); }
        .milestone-mastery { color: var(--milestone-mastery); }
        .milestone-perfect { color: var(--milestone-perfect); }
        .milestone-dedication { color: var(--milestone-dedication); }
        .milestone-improvement { color: var(--milestone-improvement); }

        /* Component Design Standards */
        .achievement-card {
            border-radius: var(--border-radius-medium);
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            background-color: white;
            overflow: hidden;
            border: 1px solid var(--neutral-200);
        }

        .achievement-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Badge State Classes */
        .badge-earned-state {
            opacity: var(--badge-earned);
            filter: none;
            transform: scale(1);
        }

        .badge-unearned-state {
            opacity: var(--badge-unearned);
            filter: grayscale(100%);
            transform: scale(0.95);
        }

        .badge-locked-state {
            opacity: var(--badge-locked);
            filter: grayscale(100%) blur(1px);
            transform: scale(0.9);
        }

        /* Enhanced Badge Animations */
        @keyframes badgeEarn {
            0% {
                transform: scale(0.3) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.3) rotate(0deg);
                opacity: 1;
            }
            70% {
                transform: scale(0.9) rotate(10deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        @keyframes sparkleGlow {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                opacity: 0.8;
                filter: brightness(1);
            }
            25% {
                transform: scale(1.1) rotate(90deg);
                opacity: 1;
                filter: brightness(1.2);
            }
            50% {
                transform: scale(1.2) rotate(180deg);
                opacity: 0.9;
                filter: brightness(1.4);
            }
            75% {
                transform: scale(1.1) rotate(270deg);
                opacity: 1;
                filter: brightness(1.2);
            }
        }

        @keyframes confettiCelebration {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
            25% {
                transform: translateY(-25px) rotate(90deg) scale(1.1);
                opacity: 1;
            }
            50% {
                transform: translateY(-50px) rotate(180deg) scale(0.9);
                opacity: 0.8;
            }
            75% {
                transform: translateY(-75px) rotate(270deg) scale(1.1);
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100px) rotate(360deg) scale(0.8);
                opacity: 0;
            }
        }

        @keyframes achievementGlow {
            0%, 100% {
                box-shadow: 0 0 10px var(--glow-gold);
            }
            50% {
                box-shadow: 0 0 25px var(--glow-gold), 0 0 35px var(--glow-gold);
            }
        }

        @keyframes progressFill {
            0% { width: 0%; }
            100% { width: var(--progress-width, 100%); }
        }

        @keyframes slideInFromTop {
            from {
                transform: translateY(-100%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        @keyframes pulseGlow {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
        }

        /* Animation Classes */
        .badge-earned {
            animation: badgeEarn 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .sparkle-effect {
            animation: sparkleGlow 3s ease-in-out infinite;
        }

        .confetti-particle {
            animation: confettiCelebration 4s ease-out forwards;
        }

        .achievement-glow {
            animation: achievementGlow 2s ease-in-out infinite;
        }

        .progress-bar {
            animation: progressFill 1.5s ease-out;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .notification-popup {
            animation: slideInFromTop 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }

        /* Badge Category Headers */
        .category-header {
            background: linear-gradient(135deg, var(--ayah-primary) 0%, var(--ayah-primary-hover) 100%);
            color: white;
            padding: var(--space-4) var(--space-6);
            border-radius: var(--border-radius-medium) var(--border-radius-medium) 0 0;
            font-size: var(--text-title-large);
            font-weight: 600;
        }

        /* Progress Indicator Styling */
        .progress-indicator {
            background-color: var(--progress-empty);
            border-radius: var(--border-radius-pill);
            overflow: hidden;
            height: var(--space-2);
        }

        .progress-fill {
            height: 100%;
            border-radius: var(--border-radius-pill);
            transition: width 0.3s ease;
        }

        .progress-complete { background-color: var(--progress-complete); }
        .progress-partial { background-color: var(--progress-partial); }
        .progress-perfect { background-color: var(--progress-perfect); }

        /* Mobile optimizations */
        @media (max-width: 640px) {
            /* Mobile badge grid */
            .mobile-badge-grid {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 1rem !important;
            }

            /* Touch-friendly badge cards */
            .badge-card {
                min-height: 44px;
                padding: 1rem !important;
                transition: all 0.2s ease;
            }

            .badge-card:active {
                transform: scale(0.98);
                background-color: rgba(96, 72, 235, 0.05);
            }

            /* Mobile text sizing */
            .mobile-text-sm {
                font-size: 0.875rem !important;
            }

            .mobile-text-lg {
                font-size: 1.125rem !important;
            }

            /* Mobile progress bars */
            .mobile-progress-bar {
                height: 6px !important;
            }

            /* Mobile badge icons */
            .mobile-badge-icon {
                width: 2rem !important;
                height: 2rem !important;
            }

            /* Mobile expandable sections */
            .mobile-expandable {
                transition: max-height 0.3s ease-in-out;
                overflow: hidden;
            }

            .mobile-expandable.collapsed {
                max-height: 0;
            }

            .mobile-expandable.expanded {
                max-height: 300px;
            }

            /* Mobile celebration animations - reduced for performance */
            .mobile-celebration {
                animation-duration: 0.4s !important;
            }
        }

        /* Tablet optimization */
        @media (min-width: 641px) and (max-width: 1024px) {
            .tablet-badge-grid {
                grid-template-columns: repeat(3, 1fr) !important;
            }
        }

        /* Touch feedback */
        .touch-feedback {
            transition: all 0.15s ease;
        }

        .touch-feedback:active {
            transform: scale(0.98);
            background-color: rgba(96, 72, 235, 0.05);
        }
    </style>
</head>
<body class="bg-white">
    <!-- Achievement Notification Popup (Hidden by default) -->
    <div id="achievementNotification" class="fixed top-4 right-4 z-50 hidden">
        <div class="notification-popup bg-white border-2 border-green-400 rounded-lg shadow-lg p-4 max-w-sm">
            <div class="flex items-center space-x-3">
                <div class="sparkle-effect">
                    <i data-lucide="trophy" class="w-8 h-8 text-yellow-500"></i>
                </div>
                <div>
                    <h3 class="font-bold text-gray-800">🏆 Achievement Unlocked!</h3>
                    <p id="achievementText" class="text-sm text-gray-600">You earned a new badge!</p>
                </div>
                <button onclick="dismissNotification()" class="text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="w-4 h-4"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="min-h-screen bg-white">
        <!-- Header -->
        <div class="px-6 py-8">
            <div class="mb-8">
                <h1 class="text-2xl font-semibold text-gray-900 mb-2">🏆 Achievement Badges</h1>
                <p class="text-gray-600 text-sm">Celebrate your learning milestones and track your progress!</p>
            </div>

            <!-- Overall Progress Summary -->
            <div class="bg-white rounded-lg border border-gray-200 p-6 mb-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="text-center">
                        <div class="text-xl font-semibold text-gray-900" id="totalBadges">13</div>
                        <div class="text-sm text-gray-600">Total Badges</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xl font-semibold text-green-600" id="earnedBadges">6</div>
                        <div class="text-sm text-gray-600">Earned</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xl font-semibold text-orange-600" id="inProgressBadges">6</div>
                        <div class="text-sm text-gray-600">In Progress</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xl font-semibold text-blue-600" id="streakDays">7</div>
                        <div class="text-sm text-gray-600">Day Streak</div>
                    </div>
                </div>
            </div>

            <!-- Badge Categories -->
            <div class="space-y-8">
                <!-- Subject Mastery Badges -->
                <div class="bg-white rounded-lg border border-gray-200">
                    <div class="border-b border-gray-200 p-4">
                        <h2 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i data-lucide="graduation-cap" class="w-5 h-5 mr-2 text-gray-600"></i>
                            Subject Mastery Badges
                        </h2>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4" id="subjectBadges">
                            <!-- Subject badges will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Consistency Badges -->
                <div class="bg-white rounded-lg border border-gray-200">
                    <div class="border-b border-gray-200 p-4">
                        <h2 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i data-lucide="calendar-check" class="w-5 h-5 mr-2 text-gray-600"></i>
                            Consistency Badges
                        </h2>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="consistencyBadges">
                            <!-- Consistency badges will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Problem-Solving Badges -->
                <div class="bg-white rounded-lg border border-gray-200">
                    <div class="border-b border-gray-200 p-4">
                        <h2 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i data-lucide="puzzle" class="w-5 h-5 mr-2 text-gray-600"></i>
                            Problem-Solving Badges
                        </h2>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="problemSolvingBadges">
                            <!-- Problem-solving badges will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Goal Achievement Badges -->
                <div class="bg-white rounded-lg border border-gray-200">
                    <div class="border-b border-gray-200 p-4">
                        <h2 class="text-lg font-semibold text-gray-900 flex items-center">
                            <i data-lucide="target" class="w-5 h-5 mr-2 text-gray-600"></i>
                            Goal Achievement Badges
                        </h2>
                    </div>
                    <div class="p-6">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="goalBadges">
                            <!-- Goal badges will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
        </div>
    </div>

    <!-- Badge Detail Modal -->
    <div id="badgeModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-md w-full p-6">
            <div class="text-center">
                <div id="modalBadgeIcon" class="text-6xl mb-4">🏆</div>
                <h3 id="modalBadgeTitle" class="text-xl font-bold mb-2">Badge Title</h3>
                <p id="modalBadgeDescription" class="text-gray-600 mb-4">Badge description</p>
                <div id="modalBadgeProgress" class="mb-4">
                    <!-- Progress info will be inserted here -->
                </div>
                <button onclick="closeBadgeModal()" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700">
                    Close
                </button>
            </div>
        </div>
    </div>

    <script>
        // Badge data structure
        const badgeData = {
            subject: [
                { id: 'math-wizard', name: 'Math Wizard', icon: '🧮', earned: true, progress: 50, total: 50, description: 'Solve 50 math problems correctly', earnedDate: '2024-01-15' },
                { id: 'science-explorer', name: 'Science Explorer', icon: '🔬', earned: true, progress: 10, total: 10, description: 'Complete 10 science topics', earnedDate: '2024-01-10' },
                { id: 'language-master', name: 'Language Master', icon: '📚', earned: false, progress: 15, total: 25, description: 'Master 25 language concepts', earnedDate: null },
                { id: 'history-scholar', name: 'History Scholar', icon: '🏛️', earned: false, progress: 3, total: 15, description: 'Study 15 historical periods', earnedDate: null }
            ],
            consistency: [
                { id: '7-day-learner', name: '7-Day Learner', icon: '📅', earned: true, progress: 7, total: 7, description: 'Study for 7 consecutive days', earnedDate: '2024-01-12' },
                { id: '30-day-scholar', name: '30-Day Scholar', icon: '📆', earned: false, progress: 12, total: 30, description: 'Study for 30 consecutive days', earnedDate: null },
                { id: 'streak-champion', name: 'Study Streak Champion', icon: '🔥', earned: false, progress: 7, total: 100, description: 'Maintain a 100-day study streak', earnedDate: null }
            ],
            problemSolving: [
                { id: 'problem-solver', name: 'Problem Solver', icon: '🧩', earned: true, progress: 3, total: 3, description: 'Solve 3 challenging problems in one session', earnedDate: '2024-01-08' },
                { id: 'quick-thinker', name: 'Quick Thinker', icon: '⚡', earned: false, progress: 8, total: 15, description: 'Solve 15 problems under time pressure', earnedDate: null },
                { id: 'challenge-accepted', name: 'Challenge Accepted', icon: '🎯', earned: true, progress: 5, total: 5, description: 'Complete 5 extra challenging problems', earnedDate: '2024-01-14' }
            ],
            goals: [
                { id: 'goal-getter', name: 'Goal Getter', icon: '🎯', earned: true, progress: 1, total: 1, description: 'Complete your first learning goal', earnedDate: '2024-01-05' },
                { id: 'target-achiever', name: 'Target Achiever', icon: '🏹', earned: false, progress: 2, total: 5, description: 'Complete 5 learning goals', earnedDate: null },
                { id: 'milestone-master', name: 'Milestone Master', icon: '🏔️', earned: false, progress: 0, total: 10, description: 'Reach 10 major learning milestones', earnedDate: null }
            ]
        };

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            renderBadges();
            updateStats();
        });

        function renderBadges() {
            renderBadgeCategory('subject', 'subjectBadges');
            renderBadgeCategory('consistency', 'consistencyBadges');
            renderBadgeCategory('problemSolving', 'problemSolvingBadges');
            renderBadgeCategory('goals', 'goalBadges');
        }

        function renderBadgeCategory(category, containerId) {
            const container = document.getElementById(containerId);
            const badges = badgeData[category];
            
            container.innerHTML = badges.map(badge => createBadgeCard(badge)).join('');
        }

        function createBadgeCard(badge) {
            const earnedClass = badge.earned ? 'badge-earned-state' : 'badge-unearned-state';
            const progressPercent = (badge.progress / badge.total) * 100;
            
            return `
                <div class="badge-card ${earnedClass} bg-gray-50 rounded-lg p-4 cursor-pointer hover:shadow-md transition-all duration-200" onclick="showBadgeDetail('${badge.id}')">
                    <div class="text-center">
                        <div class="text-4xl mb-2">${badge.icon}</div>
                        <h3 class="font-semibold text-sm mb-2">${badge.name}</h3>
                        ${badge.earned ? 
                            `<div class="text-xs text-green-600 font-medium">✓ Earned</div>
                             <div class="text-xs text-gray-500">${badge.earnedDate}</div>` :
                            `<div class="bg-gray-200 rounded-full h-3 mb-2">
                                <div class="progress-bar bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full" style="width: ${progressPercent}%"></div>
                             </div>
                             <div class="text-xs font-medium ${progressPercent >= 80 ? 'text-green-600' : progressPercent >= 50 ? 'text-blue-600' : 'text-purple-600'}">${badge.progress}/${badge.total} - ${progressPercent >= 80 ? 'Almost there! 🎯' : progressPercent >= 50 ? 'Great progress! 🌟' : 'Keep going! 💪'}</div>`
                        }
                    </div>
                </div>
            `;
        }

        function showBadgeDetail(badgeId) {
            // Find badge in all categories
            let badge = null;
            for (const category in badgeData) {
                badge = badgeData[category].find(b => b.id === badgeId);
                if (badge) break;
            }
            
            if (!badge) return;
            
            document.getElementById('modalBadgeIcon').textContent = badge.icon;
            document.getElementById('modalBadgeTitle').textContent = badge.name;
            document.getElementById('modalBadgeDescription').textContent = badge.description;
            
            const progressDiv = document.getElementById('modalBadgeProgress');
            if (badge.earned) {
                progressDiv.innerHTML = `
                    <div class="text-green-600 font-semibold">✓ Badge Earned!</div>
                    <div class="text-sm text-gray-500">Earned on ${badge.earnedDate}</div>
                `;
            } else {
                const progressPercent = (badge.progress / badge.total) * 100;
                progressDiv.innerHTML = `
                    <div class="bg-gray-200 rounded-full h-3 mb-2">
                        <div class="bg-purple-600 h-3 rounded-full transition-all duration-500" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="text-sm text-gray-600">${badge.progress} of ${badge.total} completed (${Math.round(progressPercent)}%)</div>
                    <div class="text-sm text-purple-600 mt-2">Keep going! You're ${badge.total - badge.progress} away from earning this badge!</div>
                `;
            }
            
            document.getElementById('badgeModal').classList.remove('hidden');
        }

        function closeBadgeModal() {
            document.getElementById('badgeModal').classList.add('hidden');
        }

        function updateStats() {
            const allBadges = Object.values(badgeData).flat();
            const earnedCount = allBadges.filter(b => b.earned).length;
            const inProgressCount = allBadges.filter(b => !b.earned && b.progress > 0).length;
            
            document.getElementById('totalBadges').textContent = allBadges.length;
            document.getElementById('earnedBadges').textContent = earnedCount;
            document.getElementById('inProgressBadges').textContent = inProgressCount;
        }

        function showAchievementNotification(badgeName) {
            document.getElementById('achievementText').textContent = `You earned the ${badgeName} badge!`;
            document.getElementById('achievementNotification').classList.remove('hidden');
            
            // Auto-dismiss after 5 seconds
            setTimeout(() => {
                dismissNotification();
            }, 5000);
        }

        function dismissNotification() {
            document.getElementById('achievementNotification').classList.add('hidden');
        }

        // Simulate badge earning (for demonstration)
        function simulateBadgeEarning() {
            // This would be called when actual learning activities trigger badge earning
            showAchievementNotification('Quick Thinker');
        }

        // Make functions globally available
        window.showBadgeDetail = showBadgeDetail;
        window.closeBadgeModal = closeBadgeModal;
        window.dismissNotification = dismissNotification;
        window.simulateBadgeEarning = simulateBadgeEarning;
    </script>
</body>
</html>
