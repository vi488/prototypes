<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuri - Nutrition Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        /* Nutrition Modal - Green-focused for health with orange energy/calorie accents */
        :root {
            /* Primary Brand Colors */
            --nuri-green: #00AF9F;             /* Main brand green */
            --nuri-orange: #FF611A;            /* Brand orange for energy/calories */

            /* Green Variations (Primary for health/nutrition) */
            --nuri-green-hover: #009688;       /* Darker green for hover */
            --nuri-green-light: #4DB6AC;       /* Light green for health metrics */
            --nuri-green-lighter: #80CBC4;     /* Lighter green for backgrounds */
            --nuri-green-lightest: #B2DFDB;    /* Very light green for subtle backgrounds */
            --nuri-green-dark: #00695C;        /* Dark green for emphasis */

            /* Orange Variations (Energy/calorie indicators) */
            --nuri-orange-light: #FF8A65;      /* Light orange for energy */
            --nuri-orange-lighter: #FFAB91;    /* Lighter orange for backgrounds */
            --nuri-orange-lightest: #FFCCBC;   /* Very light orange for subtle backgrounds */
            --nuri-orange-dark: #D84315;       /* Dark orange for emphasis */

            /* Background variations */
            --nuri-bg-green-light: #F5FFFE;    /* Very subtle green background */
            --nuri-bg-green-medium: #E0F2F1;   /* Light green background */
            --nuri-bg-orange-light: #FFF3E7;   /* Very subtle orange background */
            --nuri-bg-orange-medium: #FFF3E0;  /* Light orange background */

            /* Legacy compatibility */
            --nuri-primary: #00AF9F;
            --nuri-primary-hover: #009688;
        }

        .bg-nuri-primary { background-color: var(--nuri-primary); }
        .text-nuri-primary { color: var(--nuri-primary); }
        .border-nuri-primary { border-color: var(--nuri-primary); }
        .hover\:bg-nuri-primary:hover { background-color: var(--nuri-primary-hover); }

        /* Nutrition-specific styles */
        .nutrition-health {
            background: linear-gradient(135deg, var(--nuri-bg-green-light), var(--nuri-bg-green-medium));
            border: 1px solid var(--nuri-green-lighter);
            color: var(--nuri-green-dark);
        }

        .nutrition-energy {
            background: linear-gradient(135deg, var(--nuri-bg-orange-light), var(--nuri-bg-orange-medium));
            border: 1px solid var(--nuri-orange-lighter);
            color: var(--nuri-orange-dark);
        }

        .calorie-metric {
            color: var(--nuri-orange);
            font-weight: 700;
            font-size: 1.5rem;
        }

        .health-metric {
            color: var(--nuri-green);
            font-weight: 700;
            font-size: 1.5rem;
        }
        
        .modal-enter {
            animation: modalEnter 0.3s ease-out;
        }
        
        @keyframes modalEnter {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(-10px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Modal Overlay -->
    <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <!-- Modal Content -->
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden modal-enter">
            <!-- Modal Header -->
            <div class="flex items-center justify-between p-6 border-b border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-nuri-primary rounded-full flex items-center justify-center">
                        <i data-lucide="apple" class="w-5 h-5 text-white"></i>
                    </div>
                    <div>
                        <h2 class="text-xl font-semibold text-gray-800">Nutrition Tracker</h2>
                        <p class="text-sm text-gray-600">Log meals and track your nutrition</p>
                    </div>
                </div>
                <button onclick="closeModal()" class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                    <i data-lucide="x" class="w-5 h-5 text-gray-500"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="flex h-[calc(90vh-120px)]">
                <!-- Left Panel - Today's Summary -->
                <div class="w-1/3 p-6 border-r border-gray-200 bg-gray-50">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Today's Summary</h3>
                    
                    <!-- Calorie Progress -->
                    <div class="bg-white rounded-xl p-4 mb-4 shadow-sm">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Calories</span>
                            <span class="text-sm text-gray-600">1,247 / 2,000</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-nuri-primary h-2 rounded-full" style="width: 62%"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1">753 calories remaining</p>
                    </div>
                    
                    <!-- Macros -->
                    <div class="bg-white rounded-xl p-4 mb-4 shadow-sm">
                        <h4 class="text-sm font-medium text-gray-700 mb-3">Macronutrients</h4>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                                    <span class="text-sm text-gray-700">Carbs</span>
                                </div>
                                <span class="text-sm font-medium">89g</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <span class="text-sm text-gray-700">Protein</span>
                                </div>
                                <span class="text-sm font-medium">67g</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <span class="text-sm text-gray-700">Fat</span>
                                </div>
                                <span class="text-sm font-medium">45g</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Water Intake -->
                    <div class="bg-white rounded-xl p-4 shadow-sm">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">Water Intake</span>
                            <span class="text-sm text-gray-600">6 / 8 glasses</span>
                        </div>
                        <div class="flex space-x-1">
                            <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                            <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                            <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                            <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                            <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                            <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                            <div class="w-6 h-6 bg-gray-200 rounded-full"></div>
                            <div class="w-6 h-6 bg-gray-200 rounded-full"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Panel - Meal Logging -->
                <div class="flex-1 p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-gray-800">Log Your Meals</h3>
                        <button class="bg-nuri-primary text-white px-4 py-2 rounded-lg hover:bg-nuri-primary transition-colors">
                            <i data-lucide="plus" class="w-4 h-4 inline mr-2"></i>
                            Quick Add
                        </button>
                    </div>
                    
                    <!-- Meal Tabs -->
                    <div class="flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1">
                        <button class="flex-1 py-2 px-4 bg-white text-gray-800 rounded-md font-medium text-sm shadow-sm">Breakfast</button>
                        <button class="flex-1 py-2 px-4 text-gray-600 rounded-md font-medium text-sm hover:bg-white">Lunch</button>
                        <button class="flex-1 py-2 px-4 text-gray-600 rounded-md font-medium text-sm hover:bg-white">Dinner</button>
                        <button class="flex-1 py-2 px-4 text-gray-600 rounded-md font-medium text-sm hover:bg-white">Snacks</button>
                    </div>
                    
                    <!-- Search Bar -->
                    <div class="relative mb-6">
                        <input 
                            type="text" 
                            placeholder="Search for food items..."
                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-nuri-primary focus:border-transparent"
                        >
                        <i data-lucide="search" class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                    </div>
                    
                    <!-- Today's Meals -->
                    <div class="space-y-4">
                        <!-- Breakfast Items -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="font-medium text-gray-800">Breakfast</h4>
                                <span class="text-sm text-gray-600">387 calories</span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between py-2 px-3 bg-white rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">
                                            <i data-lucide="wheat" class="w-4 h-4 text-orange-600"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-800">Oatmeal with berries</p>
                                            <p class="text-xs text-gray-600">1 cup</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm font-medium text-gray-800">287 cal</p>
                                        <button class="text-xs text-red-500 hover:text-red-700">Remove</button>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between py-2 px-3 bg-white rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center">
                                            <i data-lucide="coffee" class="w-4 h-4 text-yellow-600"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-800">Coffee with milk</p>
                                            <p class="text-xs text-gray-600">1 cup</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm font-medium text-gray-800">100 cal</p>
                                        <button class="text-xs text-red-500 hover:text-red-700">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lunch Items -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="font-medium text-gray-800">Lunch</h4>
                                <span class="text-sm text-gray-600">560 calories</span>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between py-2 px-3 bg-white rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                            <i data-lucide="salad" class="w-4 h-4 text-green-600"></i>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-gray-800">Grilled chicken salad</p>
                                            <p class="text-xs text-gray-600">1 large bowl</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm font-medium text-gray-800">560 cal</p>
                                        <button class="text-xs text-red-500 hover:text-red-700">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Add Meal Button -->
                        <button class="w-full py-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-nuri-primary hover:text-nuri-primary transition-colors">
                            <i data-lucide="plus" class="w-5 h-5 inline mr-2"></i>
                            Add meal or snack
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Modal Footer -->
            <div class="flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50">
                <div class="flex items-center space-x-4">
                    <button class="text-gray-600 hover:text-gray-800 transition-colors">
                        <i data-lucide="camera" class="w-5 h-5 inline mr-2"></i>
                        Photo Log
                    </button>
                    <button class="text-gray-600 hover:text-gray-800 transition-colors">
                        <i data-lucide="mic" class="w-5 h-5 inline mr-2"></i>
                        Voice Log
                    </button>
                </div>
                <div class="flex items-center space-x-3">
                    <button onclick="closeModal()" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                        Cancel
                    </button>
                    <button class="bg-nuri-primary text-white px-6 py-2 rounded-lg hover:bg-nuri-primary transition-colors">
                        Save & Continue
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        lucide.createIcons();
        
        function closeModal() {
            window.parent.postMessage('closeModal', '*');
        }
        
        // Tab switching functionality
        const tabs = document.querySelectorAll('[class*="flex-1 py-2 px-4"]');
        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                tabs.forEach(t => {
                    t.classList.remove('bg-white', 'text-gray-800', 'shadow-sm');
                    t.classList.add('text-gray-600');
                });
                this.classList.add('bg-white', 'text-gray-800', 'shadow-sm');
                this.classList.remove('text-gray-600');
            });
        });
    </script>
</body>
</html>
